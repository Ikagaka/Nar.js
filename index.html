<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>Nar.js</title>
<script type="text/javascript" charset="utf-8" src="lib/zip.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/mime-types.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/encoding.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Nar.js"></script>
<script type="text/javascript">

// zip.js setting
zip.useWebWorkers = true
zip.workerScriptsPath = "lib/"

window.addEventListener("load", function(){

  // start download.
  new Nar("./nar/emily4.nar", function(nar) {
    

    // nar instance object likes directory tree.
    console.dir(nar);

    surface = nar.shell.master["surface0000.png"];
    console.dir(surface);

    // unzip
    surface.load(function(img) {
      document.body.appendChild(img);
    });

    descript = nar.ghost.master["descript.txt"];
    console.dir(descript);

    // unzip
    descript.load(function(txt) {
      var pre = document.createElement("pre");
      pre.innerHTML = txt;
      document.body.appendChild(pre);
    });
  });
});
</script>
</head>
<body>
</body>
</html>